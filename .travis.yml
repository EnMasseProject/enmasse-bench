sudo: required
language: java
jdk:
- oraclejdk8
services:
- docker
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
after_success:
- "./.build_and_deploy_docker.sh ebench-agent"
- "./.build_and_deploy_docker.sh ebench-collector"
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: IVMEQahBML0M5jCRA+KWU7X+tFeetkqJmPUqGplOhzOmYzNuv2uhjYsXBo6gZxJwiP77GXlTt1sR1qXQah7f+iV4M44BdEYNw1RTi5ZtfZdwBJtKlLRrocT0cvPjyYrUxttLFTjRabr3s9YOwVMnrpESn+A81RcLtjzAObKqjQWfILdYsgPwST9Zn42Vs1x6Sux30nNj7z115gAgtiGA8YqUmpCeq851PxYXAIinzrY//wow1i6auVTxgeStOiR15SR7YYl6VEqYnHP0TUJ0YGosh/BdyCBosdPcH5eFt6bih74o7JCpv53v3NHE4aHfmUkezPk71gKYg34O6KNUqfE7z8vk5oN0NDqju2hUjtC2YtsIztDlLqjDxER/48L9RIyDNSeWCD8cw3XYysEpAySHLW1JMhpviuABZmazopNW+nHiTvdMgyd1TYO2VTZibl0oofZQnl5Y1Uq2h3Gx9YJbDvjQDlVQjWvY95G7g71hdeBJO4xZbOZhKkW4RyobRTiIdJRRDtG4GAZSsa7EUWhfn5dgSAnN73BVZ6UlxoyUewa8MghFh+Yuj2uB4pKi4wIWE0zy7Uwly4GC+86ogLsvYca8qk53mGfw/oJvArtz5aP86Fx+BXcGWLst3PlhdGw7jrUluMZewRLOSiH8Z/HgRfWlL92neXnDm1EhsjI=
  - secure: mnlv5eVI+NfRd2Iv3ADBz2mRWt/q9EWmRwYC1lQ/Qd6B0l8ZOmHCtzq58x5eUcBjAushQnxiyOxQlq3foKOXkGsANOgIpZ+wH0/q4/4TOA7XZd2ltkrmMqchGxLHxx0/oM0cAyfCn1/l9T9GRLHFlHeIBZap58yP7fULu7bX2MNos6Ii+aa7fcDjDEq4ZVmv23o82RbtFhEnYIq9+At53GGWURUNdIVhO01188/ZqiI6uP2MYpv/DQWpyrUsrER20wnk/mn6v6+LTJBoMUwsJ0Tt69OljoEQC7yuabEJUEEInUXxAYS35Gg7Vlev+pkfPDpqi8B8exC0da/QW0ylWCiiY/naPvEjysvDIygnko+CWlZjEfG0cV0KxSmbRcvFmNXNpSpmW9ppj0JLlB+JhaP131CuyuqEA7kqkwAmPzGLOHgUQgE5bVgBqADc6iXBt5DuAXeTE85eNbvCVC7WGUf+gPgkg1JazPA8SbQEt++cBO+P18wjRWa+goW7/8VeVE9Dk41j0V1/2Av+SOPC97wE7vXb+tG0ZkvIUWNKtaZXH6kD4EJ5zTVsUu+bQYtBa7b9WlEcuyxFABk1KRFh416oF5WcL2ViB4HSdMC34ahzuOL6tnoaYreEX3Yo3Nia5DnhRuPCODI/053O8KTmygrGBbHZEYzXpRf/naKasj4=
  - secure: RPpsvG6hBOCIKkK5hp1tChICJMdJv+kwT7h87Z9Vx0WAoD1oWwm3voFKRAcmeoix7R4a7gh9Ds0Oy1MPH+o7kJaVHsmgvmozM+P0q/kFCDbOqxt2MLjRv4qeBA9qTsF+H4Cv9QCuFAFnR70+rVTXN7abFR7rq8zWjKKLY66GadQoY0/ZdmXsf9PCyIjKxlrSm8chf37MhNWwdBjnyzyFc6NOrELyALtwjKKgxt7/A/+mOnL7wQ09bKoEsxOPHGm1evnwCAqvKx/nQFmlEGoXIHluJ7dQokZMtBoSp/UA+YHrV6Mnv+Ci4O/qqqh74TcMhUQ/dqfg/SuBSBYZlPhrUC28K6EIm//v9BwO6K2Ha1qmq692zDAQ8iRk7cIY5drLalHKbndwN4ZSEBvQaofDFOKwAISzzjnye2vx4188RqCGmKQnr855W+mDP2Fo7n6bNFtCjgHcRGKCJHYjTEmO0e0EorLW9oznUj1PlOwUNapgzJooQ70OAF1NbTR5DlpYqePsaZ2rnk6U36kTZOu/gFWCGywv3iEDf+XuwLKdVD7F+Sdw+b1qazu3x3/rSjAiHPnOcrmvxlzZBOexffHjW6zpdhQ6aExv7dbPllirRnNtuo/pxbxCUjx80f1G7Ci1UXYJvBmRHmGzzRDCoWXv0EmnhPbskcH+8Pdrj6swfok=
  - secure: qzZQbcz8umehQdSpHG8cMflXznQecjffj9BdnMPzL4DbKdHGLrIATZfyPk/3YIDoGy+BAkdOjkXbFTYl2v6Q/ZTJ3vrDHqUZA1V71IStGAEhabAecf+vCYrY00yPFfB5zYN9+yb6BLvTUOmUhI7F5HNgftnCuSjAHLKa60k2yfUjPhUa8e1TSYNqwfXv8FufYYez43adXJTHt4PTUUSFOTqfAnj+uZ3HNDL2moHCzuiqX42ae8UYyeNmKrIepQ9M3TP2Mt53kz4DFrDG+HqTDgDI7J5GhfempY1yfAB0l2o/DMqiFKJO+JM+3L9aj/nEIVHRJtX/Pm9k4Zt5Fb4bxk+PritPGclf39LIACJdbNcNW2A4ZqUyYAJ/+pb0RMjt2h6K0Lq35CN7O75Y2x2cYvDGMVjxLp4NcxPOrD/PfhT7msSCsy5I66ljCEkrqISLnLjzoM49IA8rojf3ya02z35WXJqenvUwkn8ETstr93M7j4CZNiXie9SAB2Ck8UCYhefkoEh+yxKp6BAlqvBMcobTBvzK+IgHAdOg0IqQLnB12OgdIOI89kKBrT7WdvepPo4nTqgm31oKX4WYAV2HGMPcUN9dcxfhgCVCmOHo/4kxCscXSICEXAYjB7saotTHJOeN/J9WDQ1gTxppbKo1o8PxpvQqPXpikVLgI1mBggM=
